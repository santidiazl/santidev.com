---
title: 'Unread messages'
screenshot: './unread-message-counts.png'
visible: true
position: 1
---

By far the most challenging features involved unread messages. I needed to bold the last message of an unread chat and also display the number of unread messages.

I also had to ensure that the counts persisted after a user logged off, which required changes to the underlying data schema the starter repo came with.

A new message would need to include a <code>read</code> boolean column that is false by default but is set to true if the recipient makes the chat from sender active or if it's already active.

This involved writing a new PUT API request that would be made in such cases in order to update <code>read</code> to true in the database.

When fetching a user's chats from the database, I tallied unread messages and held that total in each chat's state. To update the counts, they were incremented or cleared by Redux's store <code>dispatch</code> method as necessary.
